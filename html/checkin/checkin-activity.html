<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- Metadados essenciais -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AnaBite - Check-in em Atividade</title>

  <!-- Favicon e estilos -->
  <link rel="shortcut icon" href="../../assets/img/favicon.png" type="image/png" />
  <link rel="stylesheet" href="../../assets/css/style.css" />
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
    rel="stylesheet"/>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js"></script>
  <script src="../../firebase-init.js"></script>

  <!-- Serviços relacionados -->
  <script src="../../services/activities.service.js"></script>
  <script src="../../services/user.service.js"></script>
  <script src="../../services/checkin.activities.service.js"></script>
</head>
<body>
  <!-- Conteúdo principal com landmark de acessibilidade -->
  <main class="container my-4" role="main" aria-labelledby="titulo-checkin">
    
    <!-- Faixa decorativa superior -->
    <hr class="colorgraph m-0 p-0" aria-hidden="true" />

    <!-- Título da página -->
    <h1 id="titulo-checkin" class="h4 text-center my-3">Check-in em Atividade</h1>

    <!-- Faixa decorativa inferior -->
    <hr class="colorgraph m-0 p-0" aria-hidden="true" />

    <!-- Formulário de Check-in -->
    <section class="mt-4">
      <form id="play-form" class="needs-validation" novalidate>
        <!-- Campo de ID da Atividade -->
        <div class="mb-3">
          <label for="activity_id" class="form-label">
            <strong>ID da Atividade:</strong>
          </label>
          <input 
            type="text" 
            id="activity_id" 
            name="activity_id" 
            class="form-control p-2" 
            required 
            aria-describedby="activity-id-help"
          />
          <div id="activity-id-help" class="form-text">Informe o código da atividade fornecido pela organização.</div>
        </div>

        <!-- Botão de Check-in -->
        <div class="text-center my-3">
          <button 
            id="bt-success" 
            type="submit" 
            class="btn btn-success px-4" 
            aria-label="Confirmar entrada na atividade">ENTRAR</button>
        </div>

        <!-- Alerta de erro -->
        <div id="alert_error" class="alert alert-danger alert-dismissible fade" role="alert" aria-live="assertive">
          <strong id="res_error"></strong>
        </div>
      </form>
    </section>
  </main>

  <!-- Bootstrap Bundle -->
  <script 
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Script principal da página -->
  <script src="checkin-activity.js"></script>
</body>
</html>
