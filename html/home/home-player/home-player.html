<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Meta tags essenciais para codificação e responsividade -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Título e ícone da aba -->
    <title>AnaBite - Home do Jogador</title>
    <link rel="shortcut icon" href="../../../assets/img/favicon.png" type="image/png" />

    <!-- Estilos principais -->
    <link rel="stylesheet" href="../../../assets/css/style.css" />
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        rel="stylesheet"/>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js"></script>
    <script src="../../../firebase-init.js"></script>
    <script src="../../../services/user.service.js"></script>
</head>
<body class="wallpaper">
    <!-- Área principal do conteúdo -->
    <main class="container my-3" role="main" aria-labelledby="titulo-home-jogador">
        <!-- Cartão com navegação -->
        <section class="card card-container shadow-sm">
            <header role="banner" class="mb-3">
                <nav class="navbar navbar-expand-sm">
                    <!-- Menu Dropdown lateral -->
                    <div class="dropdown me-auto" aria-label="Menu de navegação">
                        <button 
                            class="btn btn-secondary dropdown-toggle" 
                            type="button" 
                            id="dropdownMenuLink" 
                            data-bs-toggle="dropdown" 
                            aria-expanded="false"
                            aria-haspopup="true"
                        >
                            Menu
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                            <!-- Eventos -->
                            <li><h6 class="dropdown-header">Eventos</h6></li>
                            <li><a class="dropdown-item" href="../../event/enroll-event.html" target="iframe_eventos">Inscrever-se</a></li>
                            <li><a class="dropdown-item" href="../../event/event-dashboard.html" target="iframe_eventos">Meus Eventos</a></li>
                            <li><a class="dropdown-item" href="../../play/ranking.html" target="iframe_eventos">Ranking Geral</a></li>
                            <li><hr class="dropdown-divider"></li>

                            <!-- Atividades -->
                            <li><h6 class="dropdown-header">Atividades</h6></li>
                            <li><a class="dropdown-item" href="../../checkin/checkin-activity.html" target="iframe_eventos">Participar</a></li>
                            <li><a class="dropdown-item" href="../../activity/my-actitivies.html" target="iframe_eventos">Minhas atividades</a></li>
                            <li><a class="dropdown-item" href="../../play/ranking.html" target="iframe_eventos">Ranking Atividades</a></li>
                            <li><hr class="dropdown-divider"></li>

                            <!-- Logout -->
                            <li><a class="dropdown-item" href="#" onclick="logout()">Sair</a></li>
                        </ul>
                    </div>

                    <!-- Perfil do usuário -->
                    <div id="profile" class="text-center ms-auto">
                        <p class="mb-0">
                            <span id="avatarUser" aria-hidden="true"></span><br />
                            <span id="nameUser" aria-label="Nome do jogador"></span>
                        </p>
                    </div>
                </nav>
            </header>

            <!-- Área de conteúdo principal via iframe -->
            <section class="card card-container">
                <iframe 
                    class="embed-responsive-item" 
                    height="400" 
                    width="400"
                    id="meus_eventos" 
                    name="iframe_eventos" 
                    title="Conteúdo Dinâmico do Jogador"></iframe>
            </section>
        </section>
    </main>

    <!-- Scripts no final para melhor performance -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="home-player.js"></script>
</body>
</html>
